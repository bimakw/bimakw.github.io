---
const experiences = [
  {
    title: 'Technical Lead',
    company: 'PT. Indomarco Prismatama (Indomaret Group)',
    location: 'Jakarta',
    period: 'Sep 2021 - Present',
    description: 'Leading a 20-member technical division across 4 specialized units: Business Process Recruitment, Time Management, IRK (Flutter mobile app), and Course Development.',
    achievements: [
      'Architected Golang (Fiber) backend services supporting 100K+ internal users',
      'Built custom API Gateway using Laravel as Layer 1 security for external API access',
      'Spearheaded CI/CD automation using GitHub Actions and Jenkins, cutting deployment time by 40%',
      'Standardized Domain-Driven Design (DDD) and Hexagonal Architecture across teams',
      'Introduced AI-driven workflows, boosting team autonomy and development velocity',
    ],
  },
  {
    title: 'Technical Architect',
    company: 'PT. Indomarco Prismatama (Indomaret Group)',
    location: 'Yogyakarta',
    period: 'Jul 2020 - Aug 2021',
    description: 'Designed and implemented high-availability systems and scalable infrastructure for enterprise applications.',
    achievements: [
      'Led monolith-to-microservices migration using Docker and GCP',
      'Designed scalable API Gateway infrastructure',
      'Implemented Terraform-based IaC to standardize cloud provisioning',
      'Deployed internal apps via IIS and Nginx with hybrid cloud/on-premise setups',
    ],
  },
  {
    title: 'Full Stack Developer',
    company: 'PT. Indomarco Prismatama (Indomaret Group)',
    location: 'Yogyakarta',
    period: 'Sep 2019 - Jun 2020',
    description: 'Built and maintained HR systems and internal applications using various tech stacks.',
    achievements: [
      'Developed HR systems using .NET MVC, Laravel, and WCF',
      'Managed SQL Server and PostgreSQL databases for various modules',
      'Maintained version control and collaborated using TortoiseSVN and GitHub',
    ],
  },
];
---

<section id="experience" class="py-20 bg-gray-50 dark:bg-dark-card/30">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="section-title text-center">Work Experience</h2>
    <p class="text-gray-600 dark:text-gray-400 text-center mb-12 max-w-2xl mx-auto">
      My professional journey in software engineering
    </p>

    <div class="relative">
      <!-- Timeline line -->
      <div class="hidden md:block absolute left-1/2 transform -translate-x-1/2 h-full w-0.5 bg-gray-200 dark:bg-dark-border"></div>

      <div class="space-y-12">
        {experiences.map((exp, index) => (
          <div class={`relative flex flex-col md:flex-row ${index % 2 === 0 ? 'md:flex-row' : 'md:flex-row-reverse'} items-center gap-8`}>
            <!-- Timeline dot -->
            <div class="hidden md:block absolute left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-primary border-4 border-white dark:border-dark-bg z-10"></div>

            <!-- Content -->
            <div class={`w-full md:w-1/2 ${index % 2 === 0 ? 'md:pr-12 md:text-right' : 'md:pl-12'}`}>
              <div class="card">
                <span class="text-primary text-sm font-mono">{exp.period}</span>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mt-1">{exp.title}</h3>
                <p class="text-gray-600 dark:text-gray-400 mb-4">{exp.company}</p>
                <p class="text-gray-700 dark:text-gray-300 text-sm mb-4">{exp.description}</p>

                <ul class={`space-y-2 ${index % 2 === 0 ? 'md:text-right' : ''}`}>
                  {exp.achievements.map((achievement) => (
                    <li class="text-gray-600 dark:text-gray-400 text-sm flex items-start gap-2">
                      <span class="text-primary mt-1 flex-shrink-0">â–¹</span>
                      <span>{achievement}</span>
                    </li>
                  ))}
                </ul>
              </div>
            </div>

            <!-- Spacer for alternating layout -->
            <div class="hidden md:block w-1/2"></div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>
